# 无法落子问题排查指南

## 常见原因和解决方法

### 1. 未连接AI
**症状**: 点击棋盘无反应，控制台显示"未连接AI"

**解决**: 
- 在右侧控制面板点击"连接AI"按钮
- 等待连接成功（按钮变为"已连接"）

### 2. AI正在思考中
**症状**: 点击无反应，显示"AI思考中..."

**解决**: 
- 等待AI完成思考（通常几秒到几十秒）
- 不要连续快速点击

### 3. 位置已有棋子
**症状**: 点击已有棋子的位置无反应

**解决**: 
- 只能在没有棋子的交叉点落子
- 查看棋盘上的棋子位置

### 4. 后端服务未启动
**症状**: 连接AI失败，显示网络错误

**解决**:
```bash
# 检查后端服务
netstat -ano | findstr ":8000"

# 如果未运行，启动后端
cd web-frontend/server
python gtp_bridge.py
```

### 5. 模型文件缺失
**症状**: 连接AI后，生成走子失败

**解决**:
- 确保以下文件存在：
  - policyNet.pt
  - playoutNet.pt
  - valueNet.pt
- 如果缺失，需要先训练模型

## 调试步骤

1. **打开浏览器控制台** (F12)
2. **查看错误信息**:
   - 红色错误：网络问题或后端错误
   - 黄色警告：状态问题（未连接、正在思考等）
3. **检查网络请求**:
   - 打开Network标签
   - 查看/api/gtp/command请求
   - 检查响应状态和内容

## 测试连接

在浏览器控制台运行：
```javascript
// 测试后端连接
fetch('http://localhost:8000/api/health')
  .then(r => r.json())
  .then(console.log)
```

应该返回：`{status: "ok", active_sessions: 0}`

## 检查游戏状态

在浏览器控制台运行：
```javascript
// 查看游戏状态（需要Vue DevTools）
// 或直接查看页面上的状态显示
```

## 联系支持

如果以上方法都无法解决，请提供：
1. 浏览器控制台的完整错误信息
2. 后端服务的输出日志
3. 操作步骤（点击了什么，期望什么结果）


